要求仕様
========

本システムは以下の６つの機能をWebAPIとして提供する

- :ref:`req-create`
- :ref:`req-read`
- :ref:`req-index`
- :ref:`req-update`
- :ref:`req-delete`
- :ref:`req-settle`

*ユースケース図*

.. uml::

   left to right direction
   skinparam packageStyle rect
   actor 利用者
   entity 収支

   rectangle Register {
     boundary 登録画面
     control 登録コントローラー
     利用者 -- 登録画面
     登録画面 -- 登録コントローラー
   }

   rectangle Viewer {
     boundary 検索画面
     control 検索コントローラー
     利用者 -- 検索画面
     検索画面 -- 検索コントローラー
   }

   boundary Webブラウザ
   利用者 -- Webブラウザ

   rectangle 収支管理システム {
     登録コントローラー -- (収支を登録する)
     Webブラウザ -- (収支を登録する)
     (収支を登録する) -- 収支
     Webブラウザ -- (収支を取得する)
     (収支を取得する) -- 収支
     検索コントローラー -- (収支を検索する)
     (収支を検索する) -- 収支
     (収支を更新する) -- 収支
     (収支を削除する) -- 収支
     登録コントローラー -- (収支を計算する)
     (収支を計算する) -- 収支
   }

.. _req-create:

収支を登録する
--------------

- 入力された情報をもとに収支を作成して登録する

*ユースケースシナリオ*

1. 利用者は収支を作成するための情報を含んだHTTPリクエストを送信する
2. システムは受信したリクエストから情報を取得して収支を作成する

.. _req-read:

収支を取得する
--------------

- 指定された収支を取得する

*ユースケースシナリオ*

1. 利用者は検索条件を含んだHTTPリクエストを送信する
2. システムは受信したリクエストに対応する収支を取得する

.. _req-index:

収支を検索する
--------------

- 入力された検索条件を満たす収支を取得する

*ユースケースシナリオ*

1. 利用者は検索条件を含んだHTTPリクエストを送信する
2. システムは受信したリクエストから検索条件を取得して，条件を満たす収支を取得する

.. _req-update:

収支を更新する
--------------

- 入力された検索条件を満たす収支に対して，指定された情報で更新を行う

*ユースケースシナリオ*

1. 利用者は検索条件と更新情報を含んだHTTPリクエストを送信する
2. システムは受験したリクエストから検索条件と更新情報を取得して更新を行う

.. _req-delete:

収支を削除する
--------------

- 入力された検索条件を満たす収支を削除する

*ユースケースシナリオ*

1. 利用者は検索条件を含んだHTTPリクエストを送信する
2. システムは受信したリクエストから検索条件を取得して，条件を満たす収支を削除する

.. _req-settle:

収支を計算する
--------------

- 登録されている収支から収支を計算する

*ユースケースシナリオ*

1. 利用者は期間（年次，月次，日次）を指定してHTTPリクエストを送信する
2. システムは受験したリクエストから期間で収支を計算する
