class PaymentView <<Boundary>>
class StatisticsView <<Boundary>>

class PaymentsController {
  + index(request : Object) : Object
  - index_param() : Hash<String, Object>
  - scope_param() : Hash<String, Object>
  - per_page() : Integer
}

class StatisticsController {
}

class Api::CategoriesController {
  + index(request : Object) : Object
}

class Api::DictionariesController {
  + create(request : Object) : Object
  + index(request : Object) : Object
  - create_params() : Array
  - index_params() : Array
}

class Api::PaymentsController {
  + create(request : Object) : Object
  + show(request : Object) : Object
  + index(request : Object) : Object
  + update(request : Object) : Object
  + destroy(request : Object) : Object
  - create_params() : Hash<String, Object>
  - index_params() : Array
}

class Api::SettlementsController {
  + category(request : Object) : Object
  + period(request : Object) : Object
  - check_query_params(query : Settlement, param : String)
}

class Payment {
  + payment_type : String
  + date : Date
  + content : String
  + price : Fixnum
}

class Query {
  - payment_type : String
  - date_before : String
  - date_after : String
  - content_equal : String
  - content_include : String
  - category : String
  - tag : String
  - price_upper : Integer
  - price_lower : Integer
  - page : Integer
  - per_page : Integer
  - sort : String
  - order : String
  + date_valid?() : void
  + period_valid?() : void
  + attributes() : Hash<String, Object>
}

class Settlement {
  - aggregation_type : String
  - interval : String
  - payment_type : String
  + calculate() : Hash<String, Object>
  + attributes() : Hash<String, Object>
  - calculate_by_category() : Array<Object>
  - calculate_by_period() : Array<Object>
  - group_by_period() : Hash<String, Fixnum>
}

class Category {
  + name : String
  + description : String
}

class Dictionary {
  + phrase : String
  + condition : String
}

class Tag {
  + tag_id : String
  + name : String
}

ブラウザ -- PaymentView
ブラウザ -- StatisticsView

アプリケーション -- Api::PaymentsController
アプリケーション -- Api::CategoriesController
アプリケーション -- Api::SettlementsController

PaymentView -- PaymentsController
PaymentView -- Api::PaymentsController
PaymentView -- Api::CategoriesController
PaymentView -- Api::DictionariesController
PaymentsController "1" -- "0 .. *" Payment
PaymentsController -- Query
Api::PaymentsController "1" -- "0 .. *" Payment
Api::PaymentsController -- Query
Api::CategoriesController "1" -- "0 .. *" Category
Api::DictionariesController "1" -- "0 .. *" Dictionary
Payment "1 .. *" -- "1 .. *" Category
Payment "1 .. *" -- "0 .. *" Tag
Dictionary "0 .. *" -- "1 .. *" Category
StatisticsView -- StatisticsController
StatisticsView -- Api::SettlementsController
Api::SettlementsController "1" -- "1" Settlement
Settlement "1" -- "0..*" Payment
