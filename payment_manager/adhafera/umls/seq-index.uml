autonumber

actor 利用者

利用者 -> IndexActivity : onCreate

activate IndexActivity
  IndexActivity -> IndexActivity : getCategories

  create HTTPClient
  IndexActivity -> HTTPClient : new

  activate HTTPClient
    HTTPClient -> HTTPClient : credential

    autonumber stop
    HTTPClient --> IndexActivity

    autonumber resume
    IndexActivity ->> HTTPClient : sendRequest

    autonumber stop
    HTTPClient --> IndexActivity
  deactivate HTTPClient

  destroy HTTPClient

  autonumber resume
  IndexActivity -> IndexView : setCategories

  activate IndexView
    IndexView -> index.CategoryView : setCategories

    activate index.CategoryView
      autonumber stop
      index.CategoryView --> IndexView
    deactivate index.CategoryView

    IndexView --> IndexActivity
  deactivate IndexView
deactivate IndexActivity

autonumber resume
利用者 -> IndexView : onClick

activate IndexView
  IndexView -> IndexActivity : searchPayments

  activate IndexActivity
    IndexActivity -> InputChecker : checkDate

    activate InputChecker
      autonumber stop
      InputChecker --> IndexActivity
    deactivate InputChecker

    autonumber resume
    IndexActivity -> InputChecker : checkPrice

    activate InputChecker
      autonumber stop
      InputChecker --> IndexActivity
    deactivate InputChecker

    alt 不正な入力がある
      autonumber resume
      IndexActivity -> IndexView : showMessage

      activate IndexView
        autonumber stop
        IndexView --> IndexActivity
      deactivate IndexView

      autonumber resume
      IndexActivity -> IndexView : showWrongInput

      activate IndexView
        autonumber stop
        IndexView --> IndexActivity
      deactivate IndexView
    end

    autonumber resume
    create HTTPClient
    IndexActivity -> HTTPClient : new

    activate HTTPClient
      HTTPClient -> HTTPClient : credential

      autonumber stop
      HTTPClient --> IndexActivity

      autonumber resume
      IndexActivity ->> HTTPClient : sendRequest

      autonumber stop
      HTTPClient --> IndexActivity
    deactivate HTTPClient

    destroy HTTPClient

    autonumber resume
    IndexActivity -> IndexView : addResults

    autonumber stop
    IndexView --> IndexActivity

    autonumber resume
    IndexActivity -> IndexView : setCurrentPage

    autonumber stop
    IndexView --> IndexActivity
    IndexActivity --> IndexView
  deactivate IndexActivity

  IndexView --> IndexActivity
deactivate IndexView

IndexActivity --> 利用者

autonumber resume
利用者 -> IndexView : onClick

activate IndexView
  IndexView -> IndexActivity : searchPayments

  activate IndexActivity
    create HTTPClient
    IndexActivity -> HTTPClient : new

    activate HTTPClient
      HTTPClient -> HTTPClient : credential

      autonumber stop
      HTTPClient --> IndexActivity

      autonumber resume
      IndexActivity ->> HTTPClient : sendRequest

      autonumber stop
      HTTPClient --> IndexActivity
    deactivate HTTPClient

    destroy HTTPClient

    autonumber resume
    IndexActivity -> IndexView : addResults

    autonumber stop
    IndexView --> IndexActivity

    autonumber resume
    IndexActivity -> IndexView : getCurrentPage

    autonumber stop
    IndexView --> IndexActivity

    autonumber resume
    IndexActivity -> IndexView : setCurrentPage

    autonumber stop
    IndexView --> IndexActivity
    IndexActivity --> IndexView
  deactivate IndexActivity

  IndexView --> IndexActivity
deactivate IndexView
