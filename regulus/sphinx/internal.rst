内部仕様
========

-  システムの振る舞いと構造を記載する

   -  `振る舞い <http://localhost:8888/regulus_docs/internal.html#id2>`__
   -  `構造 <http://localhost:8888/regulus_docs/internal.html#id5>`__

振る舞い
--------

通貨の価格変動を確認する
^^^^^^^^^^^^^^^^^^^^^^^^

シーケンス図
            

.. figure:: http://localhost:8888/regulus_docs/_images/sequence_graph.jpg
   :alt: シーケンス図(通貨の価格変動を確認する)

-  利用者がWebページにアクセスしてからグラフを確認するまでの流れ

   1. ブラウザにURLを入力してシステムにアクセス
   2. システムがFXサイトから通貨情報を収集する
   3. 収集した通貨情報からグラフを作成
   4. 作成したグラフをブラウザに表示

-  システムは常にFXサイトから通貨情報を取得してグラフを更新する
-  グラフは３秒間隔で更新される

変動に関連する情報を確認する
^^^^^^^^^^^^^^^^^^^^^^^^^^^^

シーケンス図
            

.. figure:: http://localhost:8888/regulus_docs/_images/sequence_info.jpg
   :alt: シーケンス図(変動に関連する情報を確認する)

-  利用者がWebページにアクセスしてから関連情報を確認するまでの流れ

   1. ブラウザにURLを入力してシステムにアクセス
   2. システムがTwitterから関連ツイートを取得
   3. システムが日経サイトから関連記事を取得
   4. 収集した情報をブラウザに表示

-  システムは常にTwitter, 日経サイトから情報を収集する
-  ツイート、記事は1分間隔で更新される

構造
----

クラス図
        

.. figure:: http://localhost:8888/regulus_docs/_images/class.jpg
   :alt: クラス図

-  MVCモデルを利用する

-  View

   -  Webブラウザ
   -  ユーザーが見れるように情報を表示するためのクラス

-  Controller

   -  通貨管理

      -  FXサイトから取得した通貨情報を管理するためのクラス

   -  情報管理

      -  Twitterや日経から取得した情報を管理するためのクラス

-  Model

   -  通貨情報

      -  FXサイトから取得した通貨情報
      -  以下の情報を保持する

         -  通貨の種類
         -  通貨の価格
         -  通貨を取得した日時

   -  ツイート

      -  Twitterから取得したツイート
      -  以下の情報を保持する

         -  本文
         -  ツイートを取得した日時

   -  記事

      -  日経から取得した記事
      -  以下の情報を保持する

         -  本文
         -  記事を取得した日時


