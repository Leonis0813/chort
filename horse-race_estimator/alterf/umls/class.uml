class AnalysisView <<Boundary>>
class PredictionView <<Boundary>>
class EvaluationView <<Boundary>>
class AnalysesController
class PredictionsController
class EvaluationsController
class AnalysisJob
class PredictionJob
class EvaluationJob
class AnalysisMailer
class PredictionMailer
class EvaluationMailer
class Analysis
class Prediction
class Evaluation

class AnalysesController {
  + manage(page : String)
  + execute(num_data : Integer, num_tree : Integer, num_feature : Integer)
}

class PredictionsController {
  + manage(page : String)
  + execute(model : File, test_data: File)
}

class EvaluationsController {
  + manage(page : String)
  + execute(model : File)
}

class AnalysisJob {
  + perform(analysis_id : Integer)
}

class PredictionJob {
  + perform(prediction_id : Integer)
  - generate_test_data(url : String)
}

class EvaluationJob {
  + perform(evaluation_id : Integer)
}

class AnalysisMailer {
  + finished(analysis : Analysis, is_success : Boolean)
}

class PredictionMailer {
  + finished(prediction : Prediction, is_success : Boolean)
}

class EvaluationMailer {
  + finished(evaluation : Evaluation, is_success : Boolean)
}

class Analysis {
  - id : Integer
  - num_data : Integer
  - num_tree : Integer
  - num_feature : Integer
  - state : String
  - created_at : Datetime
  - updated_at : Datetime
}

class Prediction {
  - id : Integer
  - model : String
  - test_data : String
  - state : String
  - created_at : Datetime
  - updated_at : Datetime
}

class Evaluation {
  - id : Integer
  - model : String
  - state : String
  - created_at : Datetime
  - updated_at : Datetime
}

ブラウザ -- AnalysisView
ブラウザ -- PredictionView
ブラウザ -- EvaluationView

AnalysisView -- AnalysesController
AnalysesController -> AnalysisJob
AnalysisJob -> AnalysisMailer
AnalysesController "1" -- "1" Analysis
AnalysisJob "1" -- "1" Analysis

PredictionView -- PredictionsController
PredictionsController -> PredictionJob
PredictionJob -> PredictionMailer
PredictionsController "1" -- "1" Prediction
PredictionJob "1" -- "1" Prediction

EvaluationView -- EvaluationsController
EvaluationsController -> EvaluationJob
EvaluationJob -> EvaluationMailer
EvaluationsController "1" -- "1" Evaluation
EvaluationJob "1" -- "1" Evaluation
