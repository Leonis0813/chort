autonumber

actor 利用者
利用者 -> Aggregator : work!

activate Aggregator
  Aggregator -> ArgumentUtil : check_operation
  Aggregator -> Aggregator : new
  Aggregator -> Entry : where

  loop 取得したエントリーだけ繰り返す
    Aggregator -> Aggregator : create_feature

    activate Aggregator
      Aggregator -> Aggregator : create_feature_attribute
      Aggregator -> Aggregator : extra_attribute

      alt 素性の生成に成功
        Aggregator -> Feature : create_or_update!
      end
    deactivate Aggregator
  end
deactivate Aggregator
