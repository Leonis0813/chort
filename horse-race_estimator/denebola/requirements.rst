要求仕様
========

本システムは以下の機能を提供する

- :ref:`den-req-collect`
- :ref:`den-req-extract-races`
- :ref:`den-req-extract-entries`
- :ref:`den-req-extract-horses`
- :ref:`den-req-aggregate`

*ユースケース図*

.. uml:: umls/usecase.uml

- 競馬情報収集システムはバックグラウンドで実行される

.. _den-req-collect:

HTMLファイルを収集する
----------------------

- ウェブサイトから競馬情報を取得する

*ユースケースシナリオ*

1. システムは競馬情報を掲載しているウェブサイトにアクセスする
2. システムはHTMLファイルを取得する
3. システムはHTMLファイルを出力する

.. _den-req-extract-races:

レース情報を収集する
--------------------

- ファイルからレース情報を抽出してデータベースに保存する

*ユースケースシナリオ*

1. システムはHTMLファイルを読み込む
2. システムはHTMLファイルを解析してレース情報を抽出する
3. システムはレース情報をデータベースに保存する

.. _den-req-extract-entries:

エントリー情報を収集する
------------------------

- ファイルからエントリー情報を抽出してデータベースに保存する

*ユースケースシナリオ*

1. システムはHTMLファイルを読み込む
2. システムはHTMLファイルを解析してエントリー情報を抽出する
3. システムはエントリー情報をデータベースに保存する

.. _den-req-extract-horses:

競走馬情報を収集する
--------------------

- ファイルから競走馬情報を抽出してデータベースに保存する

*ユースケースシナリオ*

1. システムはHTMLファイルを読み込む
2. システムはHTMLファイルを解析して競走馬情報を抽出する
3. システムは競走馬情報をデータベースに保存する

.. _den-req-aggregate:

素性を生成する
--------------

- 取得した競馬情報を分析に適したデータ形式に変換する

*ユースケースシナリオ*

1. システムは競馬情報を取得する
2. システムは取得した競馬情報から必要なデータを取り出し素性を生成する
