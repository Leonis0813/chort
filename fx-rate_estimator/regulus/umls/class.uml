class AnalysisView <<Boundary>>
class PredictionView <<Boundary>>

class AnalysesController {
  + manage(page : Integer)
  + execute(from : String, to : String, pair: String, batch_size : Integer)
}

class PredictionsController {
  + manage(page : Integer)
  + execute(model : File)
  + settings(status : String, model : File)
  - output_model(dir : String, model : File)
  - prediction_params()
  - valid_model?(model : File)
}

class AnalysisJob {
  + perform(analysis_id : Integer)
}

class PredictionJob {
  + perform(prediction_id: Integer, model_dir : String)
}

class AnalysisMailer {
  + completed(analysis : Analysis)
  + error(analysis : Analysis)
}

class Analysis {
  - id : int
  - from : Datetime
  - to : Datetime
  - pair : String
  - batch_size : int
  - created_at : Datetime
  - updated_at : Datetime
  - state : String
}

class Prediction {
  - id : int
  - model : String
  - from : Datetime
  - to : Datetime
  - pair : String
  - means : String
  - result : String
  - state : String
  - created_at : Datetime
  - updated_at : Datetime
}

ブラウザ -right- AnalysisView
ブラウザ -down- PredictionView

AnalysisView -right- AnalysesController
AnalysesController -> AnalysisJob
AnalysisJob -> AnalysisMailer
AnalysesController "1" -- "1" Analysis
AnalysisJob "1" -- "1" Analysis

PredictionView -right- PredictionsController
PredictionsController -> PredictionJob
PredictionsController "1" -- "1" Prediction
PredictionJob "1" -- "1" Prediction
