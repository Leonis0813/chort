機能仕様
========

機能仕様では以下を定義する

- :ref:`zos-ext-resource`
- :ref:`zos-ext-api`

.. _zos-ext-resource:

リソース
--------

本システムでは以下のリソースを扱う

- :ref:`zos-ext-res-rates`
- :ref:`zos-ext-res-candle-sticks`
- :ref:`zos-ext-res-moving-averages`

.. _zos-ext-res-rates:

レート
^^^^^^

FXにおけるレート値を表す

.. csv-table::
   :header: "属性名", "型", "意味", "備考"
   :widths: 15, 10, 30, 45

   "時刻", "日時", "そのレート値になった時刻", "- 年/月/日 時:分:秒"
   "通貨ペア", "文字列", "どの国の通貨の相場かを表すコード", "- :ref:`zos-ext-res-pair` 参照"
   "買値", "数値", "通貨を買う時の値段", "- 0より大きい小数値"
   "売値", "数値", "通貨を売る時の値段", "- 0より大きい小数値"

.. _zos-ext-res-candle-sticks:

ローソク足
^^^^^^^^^^

ローソク足チャートにおける1本のバーを表す

.. csv-table::
   :header: "属性名", "型", "意味", "備考"
   :widths: 15, 10, 30, 45

   "開始日時", "日時", "バーが集約した期間の最初の時刻", "- 年/月/日 時:分:秒"
   "終了日時", "日時", "バーが集約した期間の最後の時刻", "- 年/月/日 時:分:秒"
   "通貨ペア", "文字列", "どの国の通貨の相場かを表すコード", "- :ref:`zos-ext-res-pair` 参照"
   "時間枠", "文字列", "バーが集約した期間を表すコード", "- 半角英数字と記号"
   "始値", "数値", "開始日時での相場", "- 0以上の小数"
   "終値", "数値", "終了日時での相場", "- 0以上の小数"
   "高値", "数値", "最もレート値が大きくなった時の値", "- 0以上の小数"
   "安値", "数値", "最もレート値が小さくなった時の値", "- 0以上の小数"

.. _zos-ext-res-moving-averages:

移動平均
^^^^^^^^

ある時間における移動平均値を表す

.. csv-table::
   :header: "属性名", "型", "意味", "フォーマット"
   :widths: 15, 10, 30, 345

   "日時", "日時", "移動平均を算出した日時", "- 年/月/日 時:分:秒"
   "通貨ペア", "文字列", "どの国の通貨の相場かを表すコード", "- :ref:`zos-ext-res-pair` 参照"
   "時間枠", "文字列", "移動平均値の算出に使用したバーが集約した期間を表すコード", "- 半角英数字と記号"
   "期間", "数値", "移動平均値の算出に使用した期間", "- 0以上の整数"
   "移動平均値", "数値", "移動平均の値", "- 0以上の小数"

.. _zos-ext-res-pair:

通貨ペア
^^^^^^^^

本システムでは以下の通貨ペアに対応している

- AUDJPY
- EURJPY
- EURUSD
- GBPJPY
- USDJPY

.. _zos-ext-api:

インターフェース
----------------

本システムは以下の機能を備えている

- :ref:`zos-ext-api-import-rates`
- :ref:`zos-ext-api-import-candle-sticks`
- :ref:`zos-ext-api-import-moving-averages`

.. _zos-ext-api-import-rates:

レートを収集する
^^^^^^^^^^^^^^^^

外部ツールからレート情報を収集し，データベースに :ref:`zos-ext-resource-rates` を登録する．出力はない

入力
""""

- 収集開始日

  - 指定がなければ2日前の日付となる

- 収集終了日

  - 指定がなければ2日前の日付となる

出力
""""

- なし

.. _zos-ext-api-import-candle-sticks:

ローソク足を収集する
^^^^^^^^^^^^^^^^^^^^

外部ツールからローソク足情報を収集し，データベースに :ref:`zos-ext-resource-candle-sticks` を登録する．出力はない

入力
""""

- 収集開始日

  - 指定がなければ2日前の日付となる

- 収集終了日

  - 指定がなければ2日前の日付となる

出力
""""

- なし

.. _zos-ext-api-import-moving-averages:

移動平均を収集する
^^^^^^^^^^^^^^^^^^

外部ツールから移動平均情報を収集し，データベースに :ref:`zos-ext-resource-moving-averages` を登録する．出力はない

入力
""""

- 収集開始日

  - 指定がなければ2日前の日付となる

- 収集終了日

  - 指定がなければ2日前の日付となる

出力
""""

- なし
